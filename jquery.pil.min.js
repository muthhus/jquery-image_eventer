/*
	* jQuery Progressive Image Load: ...
	*
	* Dependencies:
	* jQuery 1.4+ (jquery.com)
	*
*/
(function(f){var m="0.1",b,d=f("body"),h=f('<div id="pil-tmp-container" style="display: none !important"/>'),j,g=0;function a(r,q){var p=[],t,s,u;switch(typeof r){case"object":if(o(r)){t=(q!==undefined&&typeof q=="string")?q:"pil::imagesLoadComplete";p.push({files:r,completedEvent:t})}else{if(typeof r.collections!=="undefined"&&o(r.collections)){u=r.collections.length;for(s=0;s<u;s++){if(o(r.collections[s])){t="pil::imagesLoadComplete";p.push({files:r.collections[s],completedEvent:t})}else{p.push({files:r.collection[s].files,completedEvent:r.collection[s].completedEvent})}}}else{c()}}break;default:c();break}return p}function n(i){var p,r=i.length,q;d.append(h);q=i[g].files.length-1;for(p=q;p>=0;p--){h.append('<img src="'+i[g].files[p]+'" alt="stubbed" />')}k(h.find("img"))}function o(i){return i.constructor==(new Array).constructor}function l(s){var r,p=[];for(r in s){if(s.hasOwnProperty(r)){p.push(s[r])}}for(var q=0;q<p.length;q++){if(p[q]===false){return false}}return true}function e(){b.trigger(j[g].completedEvent,[j[g].files]);h.remove();if(typeof j[g+1]!=="undefined"){g++;n(j)}}function k(p){var i={};f.each(p,function(){i[f(this).attr("src")]=false});p.load(function(){i[f(this).attr("src")]=true;if(l(i)){e();p.unbind("load")}}).each(function(q){if(this.complete){if(l(i)===false){f(this).trigger("load")}}})}function c(){console.error("You have provided the wrong kind of argument.");console.warn("Please pass an Array or Object as your first arg to $.pil")}f.fn.pil=function(p,i){b=f(this);j=a(p,i);return this.each(function(){n(j)})};f.fn.pil.ver=function(){return m}})(jQuery);