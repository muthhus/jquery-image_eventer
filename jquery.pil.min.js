/*!
	* jQuery Progressive Image Load: ...
	*
	* Dependencies:
	* jQuery 1.4+ (jquery.com)
	*
*/
(function(h){var o="0.2",b,f=h("body"),k=h('<div id="pil-tmp-container" style="display: none !important"/>'),l=[],j=0,c="pil::imagesLoadComplete";function a(u,t){var v,s,w;switch(typeof u){case"object":if(q(u)){r(u,(t!==undefined&&typeof t=="string")?t:c)}else{if(typeof u.collections!=="undefined"&&q(u.collections)){w=u.collections.length;for(v=0;v<w;v++){if(q(u.collections[v])){r(u.collections[v],c)}else{if(h.contains(u.collections[v].files,document.img)){s=e(h(u.collections[v].files).find("img"));r(s,u.collection[v].completedEvent)}else{r(u.collections[v].files,u.collection[v].completedEvent)}}}}else{if(h.contains(u,document.img)){s=e(h(u).find("img"));r(s,(t!==undefined&&typeof t=="string")?t:c)}else{d()}}}break;default:d();break}return l}function p(i){var s,u=i.length,t;f.append(k);t=i[j].files.length-1;for(s=t;s>=0;s--){k.append('<img src="'+i[j].files[s]+'" alt="stubbed" />')}m(k.find("img"))}function r(s,i){l.push({files:s,completedEvent:i})}function q(i){return i.constructor==(new Array).constructor}function e(s){var i=[];h.each(s,function(){i.push(h(this).attr("src"))});return i}function n(v){var u,s=[];for(u in v){if(v.hasOwnProperty(u)){s.push(v[u])}}for(var t=0;t<s.length;t++){if(s[t]===false){return false}}return true}function g(){b.trigger(l[j].completedEvent,[l[j].files]);k.remove();if(typeof l[j+1]!=="undefined"){j++;p(l)}}function m(s){var i={};h.each(s,function(){i[h(this).attr("src")]=false});s.load(function(){i[h(this).attr("src")]=true;if(n(i)){g();s.unbind("load")}}).each(function(t){if(this.complete){if(n(i)===false){h(this).trigger("load")}}})}function d(){console.error("You have provided the wrong kind of argument.");console.warn("Please pass an Array or Object as your first arg to $.pil")}h.fn.pil=function(s,i){b=h(this);l=a(s,i);return this.each(function(){p(l)})};h.fn.pil.ver=function(){return o}})(jQuery);